{"version":3,"sources":["components/App.js","reportWebVitals.js","index.js"],"names":["App","props","state","web3","account","token","balance","referralAddress","value","tokensLeft","a","this","loadBlockChainData","checkReferralStatus","loadTokenData","window","ethereum","on","accounts","currentAccount","length","alert","setState","location","reload","chainId","error","request","method","Web3","eth","net","getId","netId","getAccounts","getBalance","Contract","PlayBirdMansion","abi","networks","address","e","console","log","numberOfBirds","amount","methods","mintBird","send","from","mintBirdWithReferral","totalSupply","call","tokens","result","alreadyReferred","referStatus","preventDefault","role","className","onSubmit","amountOfBirds","total","mintBirdsWithReferral","mintBirds","id","step","type","max","placeholder","ref","input","maxLength","minLength","onClick","connectWeb3","toString","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cf61e1d8.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport Web3 from 'web3';\nimport PlayBirdMansion from '../abis/PlayBirdMansion.json'\n\nclass App extends Component {\n\n    async componentDidMount() {\n      await this.loadBlockChainData()\n      await this.checkReferralStatus()\n      await this.loadTokenData()\n      window.ethereum.on('accountsChanged', (accounts) => {\n        let currentAccount = this.state.account\n        if(accounts.length === 0) {\n          window.alert(\"Please connect to MetaMask\")\n        } else if (accounts[0] !== currentAccount) {\n          currentAccount = accounts[0]\n          this.setState({account: currentAccount})\n        }\n        window.location.reload()\n      })\n      window.ethereum.on('chainChanged', (chainId) => {\n        window.location.reload()\n      })\n      window.ethereum.on('disconnect', (error) => {\n        window.ethereum.request({ method: 'eth_requestAccounts'})\n      })\n    }\n\n    async loadBlockChainData() {\n      if(typeof window.ethereum !== 'undefined') {\n        const web3 = new Web3(window.ethereum)\n        const netId = await web3.eth.net.getId()\n        const accounts = await web3.eth.getAccounts()\n\n        if(typeof accounts[0] !== 'undefined') {\n          const balance = await web3.eth.getBalance(accounts[0])\n          this.setState({ account: accounts[0], balance: balance, web3: web3 })\n        } else {\n          window.alert('Please connect your MetaMask account')\n        }\n\n        try {\n          const token = new web3.eth.Contract(PlayBirdMansion.abi, PlayBirdMansion.networks[netId].address)\n          this.setState({ token: token })\n        } catch(e) {\n          console.log('Error', e)\n          window.alert('Please connect to Polygon Network')\n        }\n\n\n      } else {\n        window.alert('Please install MetaMask')\n      }\n\n    }\n\n    async mintBirds(numberOfBirds, amount) {\n      if(this.state.token !== 'undefined') {\n        try {\n          await this.state.token.methods.mintBird(numberOfBirds).send({ value: amount, from: this.state.account })\n          window.location.reload()\n        } catch (e) {\n          console.log('Error, mintBird: ', e)\n        }\n      }\n    }\n\n    async mintBirdsWithReferral(numberOfBirds, amount, referralAddress) {\n      if(this.state.token !== 'undefined') {\n        try {\n          await this.state.token.methods.mintBirdWithReferral(numberOfBirds, referralAddress).send({ value: amount, from: this.state.account})\n          window.location.reload()\n        } catch (e) {\n          console.log('Error, mintBirdWithReferral: ', e)\n        }\n      }\n    }\n\n    async loadTokenData() {\n      if(this.state.token !== null) {\n        let tokens = await this.state.token.methods.totalSupply().call()\n        let tokensLeft =  6969 - tokens\n        this.setState({ tokensLeft: tokensLeft })\n      }\n    }\n\n    async checkReferralStatus() {\n      let result = false\n      if(this.state.token !== null) {\n        if(this.state.account !== '') {\n          result = await this.state.token.methods.alreadyReferred(this.state.account).call()\n          this.setState({ referStatus: result })\n        }\n      }\n      return result\n    }\n\n    async connectWeb3(e) {\n      e.preventDefault()\n        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\n        const account = accounts[0];\n        this.setState({account: account})\n    }\n\n\n    constructor(props) {\n      super(props)\n      this.state = {\n        web3: 'undefined',\n        account: '',\n        token: null,\n        balance: 0,\n        referralAddress: {\n          value: ''\n        },\n        tokensLeft: 0\n      }\n    }\n\n    render() {\n      return (\n\n\n        <main role=\"main\" className=\"col-lg-12 d-flex justify-content-center text-white \">\n          <div className=\"content mr-auto ml-auto\">\n              <div>\n                  <br></br>\n                  (each bird will cost 35 MATIC (Polygon) + gas fees)\n                  <br></br>\n                  (can mint up to 20 birds per time)\n                  <br></br>\n                  (use a referral for a 5 MATIC discount per bird!)\n                  <br></br>\n                  (referral can only be used once)\n                  <form onSubmit={(e) => {\n                    e.preventDefault()\n                    let amount = this.amountOfBirds.value\n                    let total = amount * 35// convert to wei\n\n                    if(this.referralAddress.value !== '') {\n                      total = total - (5*amount)\n                      total = total * (10**18)\n                      this.mintBirdsWithReferral(amount, total, this.referralAddress.value)\n                    } else {\n                      total = total * (10**18)\n                      this.mintBirds(amount, total)\n                    }\n\n\n                  }}>\n                  <div className='form-group mr-sm-2'>\n                  <br></br>\n                    <input\n                      id='numBirds'\n                      step='1'\n                      type='number'\n                      max='20'\n                      className=\"form-control form-control-md\"\n                      placeholder=\"How many birds to mint?\"\n                      ref={(input) => { this.amountOfBirds = input }}\n                    />\n                  <br></br>\n\n                    { this.state.referStatus ? \"\" :\n                      <input\n                        id='referral'\n                        maxLength='42'\n                        minLength='42'\n                        className=\"form-control form-control-md\"\n                        placeholder=\"(Optional) referral address 0x...\"\n                        ref={(input) => { this.referralAddress = input }}\n                      />\n                    }\n                  </div>\n                  <br></br>\n                  <button type='submit' className='btn btn-primary'>MINT</button>\n                </form>\n              </div>\n            <div>\n              <br></br>\n              { this.state.account !== '' ? \"Web3 is Connected\" : <button type='submit' className='btn btn-primary' onClick={(e) => this.connectWeb3(e)}>Connect Web3</button> }\n\n              <br></br>\n              Account:\n              <h6><span>{this.state.account}</span></h6>\n              <br></br>\n              <br></br>\n              <br></br>\n              <h3>{(this.state.tokensLeft).toString()}/6969 Birds Remaining</h3>\n            </div>\n          </div>\n        </main>\n\n    );\n  }\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './components/App.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}